(function(t){function e(e){for(var c,i,s=e[0],r=e[1],u=e[2],l=0,b=[];l<s.length;l++)i=s[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&b.push(o[i][0]),o[i]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c]);d&&d(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],c=!0,s=1;s<n.length;s++){var r=n[s];0!==o[r]&&(c=!1)}c&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var c={},o={app:0},a=[];function i(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=c,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(n,c,function(e){return t[e]}.bind(null,c));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0fac":function(t,e,n){},1926:function(t,e,n){"use strict";n("0fac")},2857:function(t,e,n){"use strict";n("53c4")},3543:function(t,e,n){},"53c4":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("c975"),n("a434"),n("d3b7"),n("159b");var c=n("2909"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),a=n("5502");function i(t,e,n,c,a,i){var s=Object(o["y"])("router-view");return Object(o["r"])(),Object(o["f"])(o["b"],{name:"anim",mode:"out-in"},{default:Object(o["G"])((function(){return[Object(o["i"])(s)]})),_:1})}var s={name:"App",mounted:function(){this.$store.dispatch("getContacts")}};n("aac3");s.render=i;var r=s,u=n("6c02"),d=Object(o["I"])("data-v-038c2668");Object(o["u"])("data-v-038c2668");var l={class:"wrapper"},b=Object(o["i"])("h2",{align:"center"},"Мои контакты",-1),p={class:"wrapper"},f={class:"iconWrapper"},O=Object(o["i"])("hr",null,null,-1),h={class:"iconWrapper"};Object(o["s"])();var j=d((function(t,e,n,c,a,i){var s=Object(o["y"])("modal"),r=Object(o["y"])("contact"),u=Object(o["y"])("add-form");return Object(o["r"])(),Object(o["f"])("div",l,[Object(o["i"])(o["b"],{name:"animModal",mode:"out-in"},{default:d((function(){return[i.show?(Object(o["r"])(),Object(o["f"])(s,{key:0})):Object(o["g"])("",!0)]})),_:1}),b,Object(o["i"])("main",p,[Object(o["i"])(o["c"],{name:"list"},{default:d((function(){return[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(i.contacts,(function(t,e){return Object(o["r"])(),Object(o["f"])(r,{key:t.id,person:t,index:e},null,8,["person","index"])})),128))]})),_:1})]),Object(o["i"])("section",f,[i.removedContacts.length?(Object(o["r"])(),Object(o["f"])("img",{key:0,src:"img/bin.png",onClick:e[1]||(e[1]=function(){return i.removeContacts&&i.removeContacts.apply(i,arguments)})})):Object(o["g"])("",!0)]),O,Object(o["i"])(u),Object(o["i"])("section",h,[i.reserveState.length>0?(Object(o["r"])(),Object(o["f"])("img",{key:0,src:"img/undo.png",onClick:e[2]||(e[2]=function(){return i.getReserveState&&i.getReserveState.apply(i,arguments)})})):Object(o["g"])("",!0)])])})),m=(n("b0c0"),Object(o["I"])("data-v-1f73878f"));Object(o["u"])("data-v-1f73878f");var v={class:"container"},g={class:"avatarHolder"},C=Object(o["i"])("br",null,null,-1),y={class:"infoHolder"},w={class:"details"},A=Object(o["h"])("Name "),_={class:"details"},P=Object(o["i"])("p",null,"Phone",-1),S={class:"details"},k=Object(o["i"])("p",null,"Address",-1),x={class:"btn dt-btn"},H=Object(o["i"])("p",null,"Details",-1);Object(o["s"])();var $=m((function(t,e,n,c,a,i){var s=Object(o["y"])("router-link");return Object(o["r"])(),Object(o["f"])("div",v,[Object(o["i"])("section",g,[Object(o["i"])("img",{class:["avatar",{active:a.isActive}],src:n.person.avaPath,onClick:e[1]||(e[1]=function(t){return i.handleChange(t,n.person._id)})},null,10,["src"]),C,Object(o["i"])("span",{class:"btn",onMousedown:e[2]||(e[2]=function(){return i.start&&i.start.apply(i,arguments)}),onMouseup:e[3]||(e[3]=function(){return i.end&&i.end.apply(i,arguments)})},Object(o["A"])(n.person.name),33)]),Object(o["i"])("section",y,[Object(o["i"])("div",w,[Object(o["i"])("p",null,[A,Object(o["i"])("span",null,Object(o["A"])(n.index),1)]),Object(o["H"])(Object(o["i"])("p",{onClick:e[4]||(e[4]=function(t){return a.edit=!0})},Object(o["A"])(n.person.name),513),[[o["E"],!a.edit]]),Object(o["H"])(Object(o["i"])("input",{style:{width:"10em"},value:n.person.name,onChange:e[5]||(e[5]=function(t){return i.updateName(t,n.person._id)})},null,40,["value"]),[[o["E"],a.edit]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[6]||(e[6]=function(t){return a.edit=!0}),class:"btn"},"edit",512),[[o["E"],!a.edit]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[7]||(e[7]=function(t){return a.edit=!1}),class:"btn"},"save",512),[[o["E"],a.edit]])]),Object(o["i"])("div",_,[P,Object(o["H"])(Object(o["i"])("p",{onClick:e[8]||(e[8]=function(t){return a.edit2=!0})},Object(o["A"])(n.person.phone),513),[[o["E"],!a.edit2]]),Object(o["H"])(Object(o["i"])("input",{style:{width:"10em"},value:n.person.phone,onChange:e[9]||(e[9]=function(t){return i.updatePhone(t,n.person._id)})},null,40,["value"]),[[o["E"],a.edit2]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[10]||(e[10]=function(t){return a.edit2=!0}),class:"btn"},"edit",512),[[o["E"],!a.edit2]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[11]||(e[11]=function(t){return a.edit2=!1}),class:"btn"},"save",512),[[o["E"],a.edit2]])]),Object(o["i"])("div",S,[k,Object(o["H"])(Object(o["i"])("p",{onClick:e[12]||(e[12]=function(t){return a.edit3=!0})},Object(o["A"])(n.person.address),513),[[o["E"],!a.edit3]]),Object(o["H"])(Object(o["i"])("input",{style:{width:"10em"},value:n.person.address,onChange:e[13]||(e[13]=function(t){return i.updateAddress(t,n.person._id)})},null,40,["value"]),[[o["E"],a.edit3]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[14]||(e[14]=function(t){return a.edit3=!0}),class:"btn"},"edit",512),[[o["E"],!a.edit3]]),Object(o["H"])(Object(o["i"])("span",{onClick:e[15]||(e[15]=function(t){return a.edit3=!1}),class:"btn"},"save",512),[[o["E"],a.edit3]])])]),Object(o["i"])("section",x,[Object(o["i"])(s,{to:"/contacts/"+n.person._id},{default:m((function(){return[H]})),_:1},8,["to"])])])})),D={name:"Contact",props:["person","index"],data:function(){return{edit:!1,edit2:!1,edit3:!1,counter:0,timeout:null,showDeleteBTN:!1,isActive:!1}},methods:{updateName:function(t,e){this.$store.commit("updateName",{newName:t.target.value,position:e})},updatePhone:function(t,e){this.$store.commit("updatePhone",{newPhone:t.target.value,position:e})},updateAddress:function(t,e){this.$store.commit("updateAddress",{newAddress:t.target.value,position:e})},handleChange:function(t,e){this.isActive=!this.isActive,this.$store.commit("switchDeleteBtn"),this.$store.commit("addToRemove",{idx:e})},start:function(){var t=this;this.timeout=setInterval((function(){t.counter++,t.counter>5&&t.$store.commit("switchDeleteBtn")}),100)},end:function(){clearInterval(this.timeout),this.counter=0}},mounted:function(){},computed:{contacts:function(){return this.$store.state.contacts},deleteBtnState:function(){return this.$store.state.showDeleteBtn}}};n("65fe");D.render=$,D.__scopeId="data-v-1f73878f";var N=D,M=Object(o["I"])("data-v-5fe816be");Object(o["u"])("data-v-5fe816be");var T={key:0,id:"inputs"},E=Object(o["i"])("label",{for:"name"},"Имя",-1),I=Object(o["i"])("label",{for:"age"},"Возраст",-1),R=Object(o["i"])("label",{for:"status"},"Статус",-1),B=Object(o["i"])("label",{for:"phone"},"Номер телефона",-1),J=Object(o["i"])("label",{for:"address"},"Адрес",-1),U=Object(o["i"])("label",{for:"path"},"URL картинки",-1),V=Object(o["i"])("label",{for:"desc"},"Характеристика",-1);Object(o["s"])();var F=M((function(t,e,n,c,a,i){return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["i"])("section",null,[Object(o["i"])("h4",{onClick:e[1]||(e[1]=function(t){return a.edit=!0})},"Add contact"),a.edit?(Object(o["r"])(),Object(o["f"])("img",{key:0,src:"img/plus.png",onClick:e[2]||(e[2]=function(){return i.addContact&&i.addContact.apply(i,arguments)})})):Object(o["g"])("",!0)]),a.edit?(Object(o["r"])(),Object(o["f"])("section",T,[Object(o["i"])("div",null,[E,Object(o["H"])(Object(o["i"])("input",{name:"name","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.uName=e}),type:"text"},null,512),[[o["D"],t.uName]])]),Object(o["i"])("div",null,[I,Object(o["H"])(Object(o["i"])("input",{name:"age","onUpdate:modelValue":e[4]||(e[4]=function(e){return t.uAge=e}),type:"number"},null,512),[[o["D"],t.uAge]])]),Object(o["i"])("div",null,[R,Object(o["H"])(Object(o["i"])("input",{name:"status","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.uStatus=e}),type:"text"},null,512),[[o["D"],t.uStatus]])]),Object(o["i"])("div",null,[B,Object(o["H"])(Object(o["i"])("input",{name:"phone","onUpdate:modelValue":e[6]||(e[6]=function(e){return t.uPhone=e}),type:"phone"},null,512),[[o["D"],t.uPhone]])]),Object(o["i"])("div",null,[J,Object(o["H"])(Object(o["i"])("input",{name:"address","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.uAddress=e}),type:"text"},null,512),[[o["D"],t.uAddress]])]),Object(o["i"])("div",null,[U,Object(o["H"])(Object(o["i"])("select",{name:"path","onUpdate:modelValue":e[8]||(e[8]=function(e){return t.uPath=e})},[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(a.paths,(function(t,e){return Object(o["r"])(),Object(o["f"])("option",{key:e},Object(o["A"])(t),1)})),128))],512),[[o["C"],t.uPath]])]),Object(o["i"])("div",null,[V,Object(o["H"])(Object(o["i"])("textarea",{name:"desc","onUpdate:modelValue":e[9]||(e[9]=function(e){return t.uDesc=e})},null,512),[[o["D"],t.uDesc]])]),Object(o["i"])("span",{class:"btn",onClick:e[10]||(e[10]=function(t){return a.edit=!1})},"Скрыть")])):Object(o["g"])("",!0)],64)})),L={name:"AddForm",data:function(){return{paths:["img/boy.png","img/hacker.png","img/woman.png","img/man_.png","img/girl.png"],edit:!1}},methods:{addContact:function(){this.$store.dispatch("addContact",{name:this.uName,age:this.uAge,status:this.uStatus,phone:this.uPhone,address:this.uAddress,avaPath:this.uPath,description:this.uDesc}),this.edit=!1}},mounted:function(){},computed:{}};n("1926");L.render=F,L.__scopeId="data-v-5fe816be";var W=L,G=Object(o["I"])("data-v-57be45d2");Object(o["u"])("data-v-57be45d2");var K={id:"myModal",class:"modal"},q={class:"modal-content"},z=Object(o["h"])("Подтвердите удаление "),Q=Object(o["h"])();Object(o["s"])();var X=G((function(t,e,n,c,a,i){return Object(o["r"])(),Object(o["f"])("div",K,[Object(o["i"])("div",q,[Object(o["i"])("p",null,[z,Object(o["i"])("span",{onClick:e[1]||(e[1]=function(){return i.removeContacts&&i.removeContacts.apply(i,arguments)}),class:"btn"},"OK"),Q,Object(o["i"])("span",{class:"btn",onClick:e[2]||(e[2]=function(){return i.abortRemove&&i.abortRemove.apply(i,arguments)})},"Отмена")])])])})),Y={name:"Modal",data:function(){return{}},methods:{removeContacts:function(){this.$store.commit("removeContacts")},abortRemove:function(){this.$store.commit("abortRemove")}},mounted:function(){},computed:{}};n("2857");Y.render=X,Y.__scopeId="data-v-57be45d2";var Z=Y,tt={components:{Contact:N,AddForm:W,Modal:Z},name:"ContactList",data:function(){return{}},methods:{removeContacts:function(){this.$store.commit("removeContacts")},getReserveState:function(){this.$store.commit("getReserveState")}},computed:{contacts:function(){return this.$store.state.contacts},deleteBtnState:function(){return this.$store.state.showDeleteBtn},removedContacts:function(){return this.$store.state.removedContacts},show:function(){return this.$store.state.showModal},reserveState:function(){return this.$store.state._contacts}}};n("a83d");tt.render=j,tt.__scopeId="data-v-038c2668";var et=tt,nt=(n("a4d3"),n("e01a"),Object(o["I"])("data-v-e266725a"));Object(o["u"])("data-v-e266725a");var ct=Object(o["i"])("h3",null,"Возраст",-1),ot=Object(o["i"])("br",null,null,-1),at=Object(o["i"])("h3",null,"Статус",-1),it=Object(o["i"])("br",null,null,-1),st=Object(o["i"])("h3",null,"Характер",-1);Object(o["s"])();var rt=nt((function(t,e,n,c,a,i){return Object(o["r"])(),Object(o["f"])("div",null,[Object(o["i"])("h2",null,Object(o["A"])(a.contact.name),1),Object(o["i"])("img",{class:"centered",src:"/"+a.contact.avaPath},null,8,["src"]),ct,Object(o["i"])("h4",null,Object(o["A"])(a.contact.age),1),ot,at,Object(o["i"])("h4",null,Object(o["A"])(a.contact.status),1),it,st,Object(o["i"])("h4",null,Object(o["A"])(a.contact.description),1)])})),ut=(n("4de4"),{name:"ContactDetails",data:function(){var t=this;return{contact:this.$store.state.contacts.filter((function(e){return e._id===t.$route.params.id}))[0]}},methods:{},mounted:function(){},computed:{}});n("aab3");ut.render=rt,ut.__scopeId="data-v-e266725a";var dt=ut,lt=Object(o["I"])("data-v-12213e66"),bt=lt((function(t,e,n,c,a,i){return Object(o["r"])(),Object(o["f"])("h2",null,"Error in path")})),pt={name:"NotFound",data:function(){return{}},methods:{},mounted:function(){},computed:{}};n("fd10");pt.render=bt,pt.__scopeId="data-v-12213e66";var ft=pt,Ot=[{path:"/",name:"ContactList",component:et},{path:"/contacts/:id",name:"ContactDetails",component:dt},{path:"/:pathMatch(.*)*",name:"NotFound",component:ft}],ht=Object(u["a"])({history:Object(u["b"])("/"),routes:Ot}),jt=ht,mt=Object(a["a"])({state:function(){return{contacts:[],_contacts:[],removedContacts:[],showDeleteBtn:!1,showModal:!1}},mutations:{_getContacts:function(t,e){t._contacts=Object(c["a"])(t.contacts),t.contacts=e.contacts},updateName:function(t,e){t._contacts=Object(c["a"])(t.contacts),fetch("http://localhost:3000/updateName",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify({name:e.newName,id:e.position})}).then((function(){window.location.reload()})).catch((function(t){console.log(t)}))},updatePhone:function(t,e){t._contacts=Object(c["a"])(t.contacts),fetch("http://localhost:3000/updatePhone",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify({phone:e.newPhone,id:e.position})}).then((function(){window.location.reload()})).catch((function(t){console.log(t)}))},updateAddress:function(t,e){t._contacts=Object(c["a"])(t.contacts),fetch("http://localhost:3000/updateAddress",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify({address:e.newAddress,id:e.position})}).then((function(){window.location.reload()})).catch((function(t){console.log(t)}))},_addContact:function(t,e){t._contacts=Object(c["a"])(t.contacts),t.contacts.push(e),fetch("http://localhost:3000/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify({contact:e})}).then((function(e){e.json().then((function(e){t.contacts=e.contacts,console.log(t.contacts)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},_signup:function(t,e){t.isAuth=e.isAuth},addToRemove:function(t,e){if(t.removedContacts.indexOf(e.idx)<0)t.removedContacts.push(e.idx);else{var n=t.removedContacts.indexOf(e.idx);t.removedContacts.splice(n,1)}},switchDeleteBtn:function(t){t.showDeleteBtn=!0},switchModal:function(t){t.showModal=!0,console.log("modal is switched to "+t.showModal)},abortRemove:function(t){t.showModal=!1},getReserveState:function(t){t.contacts=t._contacts,t._contacts=[]},removeContacts:function(t){fetch("http://localhost:3000/delete",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify({data:t.removedContacts})}).then((function(){console.log("Удаление выполнено")})).catch((function(t){console.log(t)})),t._contacts=Object(c["a"])(t.contacts),t.removedContacts.forEach((function(e){t.contacts.forEach((function(n){if(e===n._id){var c=t.contacts.indexOf(n);t.contacts.splice(c,1)}})),t.removedContacts=[]}))}},actions:{getContacts:function(t){fetch("http://localhost:3000/contacts").then((function(t){return t.json()})).then((function(e){t.commit("_getContacts",e)})).catch((function(t){return console.log(t)}))},addContact:function(t,e){t.commit("_addContact",e)},signup:function(t,e){fetch("http://localhost:3000/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8","Access-Control-Origin":"*"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){t.commit("_signup",e),window.location.href="/"})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))},login:function(){}},getters:{contacts:function(t){return t.contacts},authStatus:function(t){return t.isAuth}}}),vt=Object(o["e"])(r).use(jt);vt.use(mt),vt.mount("#app")},"65fe":function(t,e,n){"use strict";n("b51a")},"786a":function(t,e,n){},a83d:function(t,e,n){"use strict";n("b33c")},aab3:function(t,e,n){"use strict";n("786a")},aac3:function(t,e,n){"use strict";n("da58")},b33c:function(t,e,n){},b51a:function(t,e,n){},da58:function(t,e,n){},fd10:function(t,e,n){"use strict";n("3543")}});
//# sourceMappingURL=app.029c2ee4.js.map